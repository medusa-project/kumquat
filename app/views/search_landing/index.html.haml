
- provide :body_id, "search"
- provide :title, "Digital Special Collections"

.dls-search-banner
  = image_tag('banner_dls.jpg', :class => 'w-100', :alt => 'Digital Special Collections Banner')
  .dls-search-banner-overlay
    %h2.text-white.mb-4 Digital Special Collections
    = form_tag(search_landing_path, method: :get, class: 'd-inline-block w-75') do 
      .input-group.input-group-lg
        = text_field_tag(:q, @permitted_params[:q], placeholder: "Search across #{number_with_delimiter(@count)} items...", class: "form-control form-control-lg", 'aria-label': 'Search')
        .input-group-append
          = submit_tag("Search", class: "btn btn-primary btn-lg")

.row.justify-content-md-center.mt-4
  .col-md-auto
    = paginate(@count, @limit, @current_page, SearchLandingController::PERMITTED_PARAMS)

.row
  .col-sm-3.col-lg-2
    .facets
      = facets_as_cards(@facets, SearchLandingController::PERMITTED_PARAMS)

  .col-sm-9.col-lg-10
    .card.dl-results-summary
      .card-body
        .row
          #dl-search-status.col-sm-8
            = search_status(@count, @start, @num_results_shown)
            
    .search-results-list
      - if @items.present?
        - @items.each do |item|
          .search-result-item.mb-4.d-flex 
            = thumbnail_tag(item, shape: :square, size: 150)
            .search-result-details.flex-grow-1 
              %h5= item.title 
              %div.text-muted 
                %span
                  = item.collection.try(:title)
                %span 
                  Digital Special Collections 
              = link_to '+ More info...', item_path(item), class: 'btn btn-sm btn-outline-secondary mt-2'

      - else 
        %p.mt-4.text-muted No items found.

